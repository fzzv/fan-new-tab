# ä¼˜åŒ–åçš„Imageç»„ä»¶

åŸºäºAnt Design Vueçš„Imageç»„ä»¶è®¾è®¡ç†å¿µï¼Œæä¾›äº†åŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½ä¼˜åŒ–çš„å›¾ç‰‡å±•ç¤ºå’Œé¢„è§ˆè§£å†³æ–¹æ¡ˆã€‚

## ä¸»è¦ç‰¹æ€§

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **æ‡’åŠ è½½æ”¯æŒ**: ä½¿ç”¨Intersection Observer APIå®ç°é«˜æ€§èƒ½æ‡’åŠ è½½
- **æ¸è¿›å¼åŠ è½½**: æ”¯æŒå ä½ç¬¦å’ŒåŠ è½½çŠ¶æ€æ˜¾ç¤º
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„fallbackæœºåˆ¶å’Œé”™è¯¯çŠ¶æ€å¤„ç†

### ğŸ¨ ä¸°å¯Œçš„é¢„è§ˆåŠŸèƒ½
- **ç¼©æ”¾æ§åˆ¶**: æ”¯æŒé¼ æ ‡æ»šè½®ã€æŒ‰é’®å’Œé”®ç›˜ç¼©æ”¾ï¼ŒæŒ‰é’®ç¼©æ”¾ä»¥å›¾ç‰‡ä¸­å¿ƒä¸ºåŸºå‡†ï¼Œæ»šè½®ç¼©æ”¾ä»¥é¼ æ ‡ä½ç½®ä¸ºåŸºå‡†
- **æ‹–æ‹½ç§»åŠ¨**: å¯æ‹–æ‹½ç§»åŠ¨å›¾ç‰‡ä½ç½®
- **æ—‹è½¬ç¿»è½¬**: æ”¯æŒ90åº¦æ—‹è½¬å’Œæ°´å¹³/å‚ç›´ç¿»è½¬
- **é”®ç›˜å¯¼èˆª**: å®Œæ•´çš„é”®ç›˜å¿«æ·é”®æ”¯æŒ
- **å·¥å…·æ **: ä¸°å¯Œçš„æ“ä½œå·¥å…·æ ï¼Œæ”¯æŒä¸‹è½½ç­‰åŠŸèƒ½

### ğŸ”„ å¤šå›¾ç‰‡é¢„è§ˆç»„
- **ç»„é¢„è§ˆ**: æ”¯æŒå¤šå›¾ç‰‡ç»„åˆé¢„è§ˆ
- **å¯¼èˆªæ§åˆ¶**: ä¸Šä¸€å¼ /ä¸‹ä¸€å¼ å¯¼èˆª
- **è®¡æ•°æ˜¾ç¤º**: å½“å‰å›¾ç‰‡ä½ç½®æ˜¾ç¤º
- **é”®ç›˜å¯¼èˆª**: æ–¹å‘é”®åˆ‡æ¢å›¾ç‰‡

### â™¿ æ— éšœç¢æ”¯æŒ
- **ARIAæ ‡ç­¾**: å®Œæ•´çš„æ— éšœç¢æ ‡ç­¾æ”¯æŒ
- **é”®ç›˜å¯¼èˆª**: æ”¯æŒTabå’Œæ–¹å‘é”®å¯¼èˆª
- **å±å¹•é˜…è¯»å™¨**: å‹å¥½çš„å±å¹•é˜…è¯»å™¨æ”¯æŒ

## ç»„ä»¶API

### Imageç»„ä»¶

#### Props

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| src | string | - | å›¾ç‰‡åœ°å€ |
| alt | string | '' | å›¾ç‰‡æè¿° |
| fallback | string | - | åŠ è½½å¤±è´¥æ—¶çš„å¤‡ç”¨å›¾ç‰‡ |
| width | string \| number | - | å›¾ç‰‡å®½åº¦ |
| height | string \| number | - | å›¾ç‰‡é«˜åº¦ |
| placeholder | boolean \| string | true | å ä½ç¬¦ï¼Œtrueæ˜¾ç¤ºé»˜è®¤å ä½ç¬¦ï¼Œstringæ˜¾ç¤ºè‡ªå®šä¹‰æ–‡æœ¬ |
| preview | boolean \| PreviewType | true | é¢„è§ˆé…ç½® |
| previewMask | boolean \| (() => string) | true | é¢„è§ˆé®ç½© |
| lazy | boolean | false | æ˜¯å¦å¯ç”¨æ‡’åŠ è½½ |
| crossOrigin | 'anonymous' \| 'use-credentials' | - | CORSè®¾ç½® |
| loading | 'eager' \| 'lazy' | 'lazy' | åŸç”Ÿloadingå±æ€§ |

#### Events

| äº‹ä»¶å | å‚æ•° | è¯´æ˜ |
|--------|------|------|
| load | (event: Event) | å›¾ç‰‡åŠ è½½æˆåŠŸ |
| error | (event: Event) | å›¾ç‰‡åŠ è½½å¤±è´¥ |
| click | (event: Event) | å›¾ç‰‡ç‚¹å‡» |
| preview | (event: Event) | é¢„è§ˆè§¦å‘ |

### ImagePreviewGroupç»„ä»¶

#### Props

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| preview | boolean \| PreviewGroupType | true | é¢„è§ˆé…ç½® |
| items | string[] \| ImageItem[] | [] | é¢„è®¾å›¾ç‰‡åˆ—è¡¨ |
| fallback | string | - | åŠ è½½å¤±è´¥æ—¶çš„å¤‡ç”¨å›¾ç‰‡ |

#### Events

| äº‹ä»¶å | å‚æ•° | è¯´æ˜ |
|--------|------|------|
| change | (current: number, prev: number) | å½“å‰å›¾ç‰‡åˆ‡æ¢ |
| visibleChange | (visible: boolean, prevVisible: boolean, current: number) | é¢„è§ˆå¯è§æ€§å˜åŒ– |

### PreviewTypeé…ç½®

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| src | string | - | è‡ªå®šä¹‰é¢„è§ˆå›¾ç‰‡åœ°å€ |
| visible | boolean | - | é¢„è§ˆå¯è§æ€§ï¼ˆå—æ§æ¨¡å¼ï¼‰ |
| maskClosable | boolean | true | ç‚¹å‡»é®ç½©æ˜¯å¦å…³é—­ |
| zIndex | number | 1000 | é¢„è§ˆå±‚çº§ |
| scaleStep | number | 0.5 | ç¼©æ”¾æ­¥é•¿ |
| minScale | number | 0.25 | æœ€å°ç¼©æ”¾æ¯”ä¾‹ |
| maxScale | number | 50 | æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ |
| movable | boolean | true | æ˜¯å¦å¯æ‹–æ‹½ç§»åŠ¨ |
| destroyOnClose | boolean | false | å…³é—­æ—¶æ˜¯å¦é”€æ¯ |

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

```vue
<template>
  <Image
    src="https://example.com/image.jpg"
    alt="ç¤ºä¾‹å›¾ç‰‡"
    width="200"
    height="200"
  />
</template>
```

### æ‡’åŠ è½½

```vue
<template>
  <Image
    src="https://example.com/large-image.jpg"
    alt="å¤§å›¾ç‰‡"
    lazy
    placeholder="æ­£åœ¨åŠ è½½..."
  />
</template>
```

### é”™è¯¯å¤„ç†

```vue
<template>
  <Image
    src="https://invalid-url.com/image.jpg"
    fallback="https://example.com/fallback.jpg"
    alt="å¯èƒ½å¤±è´¥çš„å›¾ç‰‡"
    @error="handleError"
  />
</template>
```

### è‡ªå®šä¹‰é¢„è§ˆ

```vue
<template>
  <Image
    src="https://example.com/thumb.jpg"
    :preview="{
      src: 'https://example.com/full-size.jpg',
      scaleStep: 0.3,
      minScale: 0.5,
      maxScale: 10,
    }"
    alt="è‡ªå®šä¹‰é¢„è§ˆ"
  />
</template>
```

### å›¾ç‰‡é¢„è§ˆç»„

```vue
<template>
  <ImagePreviewGroup @change="handleChange">
    <div class="image-grid">
      <Image
        v-for="(img, index) in images"
        :key="index"
        :src="img.src"
        :alt="img.alt"
      />
    </div>
  </ImagePreviewGroup>
</template>

<script setup>
const images = [
  { src: 'https://example.com/1.jpg', alt: 'å›¾ç‰‡1' },
  { src: 'https://example.com/2.jpg', alt: 'å›¾ç‰‡2' },
  { src: 'https://example.com/3.jpg', alt: 'å›¾ç‰‡3' },
]

const handleChange = (current, prev) => {
  console.log(`ä»ç¬¬${prev + 1}å¼ åˆ‡æ¢åˆ°ç¬¬${current + 1}å¼ `)
}
</script>
```

## ç¼©æ”¾è¡Œä¸ºè¯´æ˜

### ç¼©æ”¾æ¨¡å¼
- **æŒ‰é’®ç¼©æ”¾**: ç‚¹å‡»å·¥å…·æ çš„æ”¾å¤§/ç¼©å°æŒ‰é’®ï¼Œä»¥å›¾ç‰‡ä¸­å¿ƒä¸ºåŸºå‡†è¿›è¡Œç¼©æ”¾
- **é”®ç›˜ç¼©æ”¾**: ä½¿ç”¨â†‘â†“æ–¹å‘é”®ï¼Œä»¥å›¾ç‰‡ä¸­å¿ƒä¸ºåŸºå‡†è¿›è¡Œç¼©æ”¾
- **æ»šè½®ç¼©æ”¾**: é¼ æ ‡æ»šè½®ç¼©æ”¾ï¼Œä»¥é¼ æ ‡å½“å‰ä½ç½®ä¸ºåŸºå‡†è¿›è¡Œç¼©æ”¾
- **åŒå‡»ç¼©æ”¾**: åŒå‡»å›¾ç‰‡ï¼Œä»¥åŒå‡»ä½ç½®ä¸ºåŸºå‡†è¿›è¡Œ2å€ç¼©æ”¾ï¼Œå†æ¬¡åŒå‡»é‡ç½®

### ç¼©æ”¾èŒƒå›´
- **æœ€å°ç¼©æ”¾**: 25%ï¼ˆ0.25å€ï¼‰
- **æœ€å¤§ç¼©æ”¾**: 5000%ï¼ˆ50å€ï¼‰
- **ç¼©æ”¾æ­¥é•¿**: é»˜è®¤50%ï¼Œå¯é€šè¿‡`scaleStep`é…ç½®

## é”®ç›˜å¿«æ·é”®

### é¢„è§ˆæ¨¡å¼ä¸‹
- `ESC`: å…³é—­é¢„è§ˆ
- `â†‘`: æ”¾å¤§ï¼ˆä»¥ä¸­å¿ƒä¸ºåŸºå‡†ï¼‰
- `â†“`: ç¼©å°ï¼ˆä»¥ä¸­å¿ƒä¸ºåŸºå‡†ï¼‰
- `â†`: å·¦æ—‹è½¬ / ä¸Šä¸€å¼ ï¼ˆé¢„è§ˆç»„ï¼‰
- `â†’`: å³æ—‹è½¬ / ä¸‹ä¸€å¼ ï¼ˆé¢„è§ˆç»„ï¼‰
- `R`: é‡ç½®å˜æ¢
- `Home`: è·³è½¬åˆ°ç¬¬ä¸€å¼ ï¼ˆé¢„è§ˆç»„ï¼‰
- `End`: è·³è½¬åˆ°æœ€åä¸€å¼ ï¼ˆé¢„è§ˆç»„ï¼‰

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome >= 51
- Firefox >= 55
- Safari >= 12.1
- Edge >= 15

## æ³¨æ„äº‹é¡¹

1. æ‡’åŠ è½½åŠŸèƒ½éœ€è¦æµè§ˆå™¨æ”¯æŒIntersection Observer API
2. æŸäº›å˜æ¢åŠŸèƒ½å¯èƒ½åœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­è¡¨ç°ä¸ä¸€è‡´
3. å¤§å›¾ç‰‡å»ºè®®ä½¿ç”¨æ‡’åŠ è½½ä»¥æå‡é¡µé¢æ€§èƒ½
4. é¢„è§ˆç»„ä¸­çš„å›¾ç‰‡ä¼šè‡ªåŠ¨æ³¨å†Œï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†

## æ›´æ–°æ—¥å¿—

### v2.0.0
- âœ¨ æ–°å¢æ‡’åŠ è½½æ”¯æŒ
- âœ¨ æ–°å¢å›¾ç‰‡é¢„è§ˆç»„åŠŸèƒ½
- âœ¨ æ–°å¢æ—‹è½¬å’Œç¿»è½¬åŠŸèƒ½
- âœ¨ æ–°å¢é”®ç›˜å¯¼èˆªæ”¯æŒ
- âœ¨ æ–°å¢ä¸‹è½½åŠŸèƒ½
- âœ¨ æ”¹è¿›æ— éšœç¢æ”¯æŒ
- ğŸ› ä¿®å¤å¤šä¸ªå·²çŸ¥é—®é¢˜
- ğŸ’„ ä¼˜åŒ–UIå’Œäº¤äº’ä½“éªŒ
